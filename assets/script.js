const navToggle = document.querySelector('.nav-toggle');
const navLinks = document.querySelector('.nav-links');

if (navToggle && navLinks) {
  navToggle.addEventListener('click', () => {
    navLinks.classList.toggle('show');
  });

  navLinks.querySelectorAll('a').forEach((link) => {
    link.addEventListener('click', () => {
      navLinks.classList.remove('show');
    });
  });
}

const observer = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  },
  { threshold: 0.18 }
);

document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));

const translations = {
  en: {
    'nav-problem': 'Problem → Solution',
    'nav-team': 'Team',
    'nav-why': 'Why Us',
    'nav-roadmap': 'Roadmap',
    'nav-implementation': 'Implementation',
    'nav-projects': 'Projects',
    'nav-links': 'Links',
    'hero-eyebrow': 'AI500 Hackathon • Prototype ready',
    'hero-title': 'AI Risk, Fraud, and Investing Intelligence for Uzbekistan',
    'hero-lede':
      'We already built three production-minded solutions: an AI risk scoring and fraud detection platform, a fast credit scoring web app, and a safe investment training simulator to raise financial literacy.',
    'cta-roadmap': 'View roadmap',
    'cta-projects': 'See projects',
    'hero-meta-stage': 'Current stage: Prototype',
    'hero-meta-builders': 'Built by Bekhzod Shavkatov x Codex AI Agent',
    'hero-card-title': 'What’s already working',
    'hero-card-li1': 'Credit risk model and fraud detector running with explainability',
    'hero-card-li2': 'Unified client risk profile with API, UI, and dashboards',
    'hero-card-li3': 'Credit scoring web app with FastAPI backend and operator-friendly UI',
    'hero-card-li4': 'Investment simulator that teaches safe trading using real or simulated data',
    'hero-status': 'Prototype live and integrating fast with banks',
    'problem-eyebrow': 'Problem → Solution',
    'problem-title': 'Three urgent gaps in finance across Uzbekistan',
    'problem-lede': 'We translate real banking pain points into deployable AI products.',
    'problem-a-tag': 'A. Banking — Credit Risk',
    'problem-a-title': 'Low-accuracy scoring hurts banks and borrowers',
    'problem-a-li1': 'Low accuracy of current credit scoring systems',
    'problem-a-li2': 'High default rates and financial losses',
    'problem-a-li3': 'Heavy manual work and human error',
    'problem-a-li4': 'Slow processing of credit applications',
    'problem-a-li5': 'Limited access to affordable lending for the population',
    'paired-label': 'Paired solution:',
    'problem-a-solution': 'AI Risk Scoring & Fraud Detection Platform',
    'problem-b-tag': 'B. Financial Fraud',
    'problem-b-title': 'Fraud hides in fast-growing transaction flows',
    'problem-b-li1': 'Growing transaction volume',
    'problem-b-li2': 'Difficult to detect abnormal or suspicious operations',
    'problem-b-li3': 'Banks lose significant money due to fraud',
    'problem-b-li4': 'Manual monitoring is inefficient',
    'paired-label-2': 'Paired solution:',
    'problem-b-solution': 'AI Fraud model with explainable alerts',
    'problem-c-tag': 'C. Lack of Investment Tools',
    'problem-c-title': 'Citizens have no safe way to learn investing',
    'problem-c-li1': 'No accessible stock market for citizens',
    'problem-c-li2': 'Low financial literacy',
    'problem-c-li3': 'Young people cannot safely learn investing',
    'problem-c-li4': 'Many fall victim to scammers and pseudo-investments',
    'problem-c-li5': 'There is no sandbox environment for practicing investment skills',
    'paired-label-3': 'Paired solution:',
    'problem-c-solution': 'Investment Training Simulator',
    'implementation-eyebrow': 'Solution',
    'implementation-title': 'How we plan to implement the solution',
    'implementation-lede': 'Fast-moving, production-focused approach from data to deployment.',
    'impl-card1-title': 'Data & Features',
    'impl-card1-copy': 'Unify banking data into clean datasets, engineer risk signals, and add fraud-specific behavioral features.',
    'impl-card1-li1': 'Data quality improvement and lineage tracking',
    'impl-card1-li2': 'Feature stores for credit and fraud signals',
    'impl-card1-li3': 'Real-time ingestion for streaming fraud checks',
    'impl-card2-title': 'Models & Explainability',
    'impl-card2-copy': 'Train Scikit-Learn, CatBoost, and XGBoost models with AutoML baselines and XAI for decisions.',
    'impl-card2-li1': 'Credit PD models with calibrated thresholds',
    'impl-card2-li2': 'Fraud detectors with anomaly and rules hybrid',
    'impl-card2-li3': 'SHAP/LIME views embedded into dashboards',
    'impl-card3-title': 'Products & Ops',
    'impl-card3-copy': 'Expose results via FastAPI, Streamlit/React dashboards, and CI/CD for rapid rollout.',
    'impl-card3-li1': 'Unified client risk profile with alerts',
    'impl-card3-li2': 'Operator-friendly credit scoring web app',
    'impl-card3-li3': 'Cloud deployment with Docker and GitHub Actions',
    'team-eyebrow': 'Team',
    'team-title': 'The collab',
    'team-lede': 'Bekhzod Shavkatov x Codex AI Agent partnering on ML, backend, and rapid delivery.',
    'team-card-title': 'Bekhzod Shavkatov x Codex AI Agent',
    'team-card-role': 'ML Engineer / Full-Stack Developer + AI coding partner',
    'team-card-skills-label': 'Skills:',
    'team-card-skills':
      'Python, FastAPI, Machine Learning, LLMs, Scikit-Learn, Docker, Streamlit, automated code generation, rapid prototyping',
    'team-card-roles-label': 'Roles:',
    'team-card-roles': 'ML models, backend, API, infrastructure, UI, and AI-assisted implementation speed',
    'why-eyebrow': 'Why our team can solve this',
    'why-title': 'We build fast and we build for Uzbekistan',
    'why-li1': 'We already built three working solutions (risk scoring, fraud detection, investment simulator)',
    'why-li2': 'Experience in ML, backend, APIs, microservices',
    'why-li3': 'We focus on real problems in Uzbekistan',
    'why-li4': 'We build MVPs fast',
    'why-li5': 'We have already deployed working prototypes',
    'why-li6': 'Strong understanding of finance, banking flows, and risk modeling',
    'roadmap-eyebrow': 'Roadmap',
    'roadmap-title': 'Idea → Prototype → MVP → Launched',
    'roadmap-stage': 'Current stage: Prototype',
    'roadmap-idea-title': 'Idea',
    'roadmap-idea-copy': 'Validated with banking partners and fraud analysts.',
    'roadmap-prototype-title': 'Prototype',
    'roadmap-prototype-copy': 'Working models, dashboards, and simulator already built.',
    'roadmap-mvp-title': 'MVP',
    'roadmap-mvp-copy': 'Hardening APIs, adding monitoring, and pilot bank integrations.',
    'roadmap-launched-title': 'Launched',
    'roadmap-launched-copy': 'Cloud deployments, SLAs, and nationwide roll-out.',
    'roadmap-next-title': 'Next steps',
    'roadmap-next1': 'Improve dataset quality',
    'roadmap-next2': 'Optimize ML models',
    'roadmap-next3': 'Add Explainable AI',
    'roadmap-next4': 'Build full analytics dashboard',
    'roadmap-next5': 'Integrate with external APIs',
    'roadmap-next6': 'Deploy to cloud (AWS / Vercel / Render)',
    'projects-eyebrow': 'Showcase',
    'projects-title': 'Three projects already in motion',
    'projects-lede': 'Real functionality, ready to extend for AI500.',
    'proj1-tag': 'Project 1',
    'proj1-title': 'AI Risk Scoring & Fraud Detection Platform',
    'proj1-li1': 'ML models predict credit risk',
    'proj1-li2': 'Fraud model detects suspicious transactions',
    'proj1-li3': 'Unified risk profile for each client',
    'proj1-li4': 'Includes API, UI, dashboards',
    'proj1-li5': 'Explainable AI (SHAP/LIME)',
    'proj1-li6': 'Fast to integrate with banks',
    'proj2-tag': 'Project 2',
    'proj2-title': 'Credit Scoring Web App',
    'proj2-li1': 'A lightweight version of the scoring platform',
    'proj2-li2': 'Fast creditworthiness assessment',
    'proj2-li3': 'Predicts probability of default',
    'proj2-li4': 'Operator-friendly interface',
    'proj2-li5': 'FastAPI backend',
    'proj3-tag': 'Project 3',
    'proj3-title': 'Investment Training Simulator',
    'proj3-li1': 'Virtual stock market simulator',
    'proj3-li2': 'Users receive virtual money and can buy/sell assets',
    'proj3-li3': 'Teaches investing without risk',
    'proj3-li4': 'Helps increase financial literacy',
    'proj3-li5': 'Prevents people from falling into scam schemes',
    'proj3-li6': 'Uses real or simulated market data',
    'tech-eyebrow': 'Technologies',
    'tech-title': 'The stack that powers the prototypes',
    'links-eyebrow': 'Project links',
    'links-title': 'Projects (coming soon)',
    'links-lede': 'Replace the placeholders with GitHub repos or live demos.',
    'links-card1-title': 'AI Risk Platform + Credit Scoring App',
    'links-card1-copy': 'Combined repo or live API endpoint.',
    'links-card1-btn': 'Link to the Prototype',
    'links-card2-title': 'Investment Simulator',
    'links-card2-copy': 'GitHub repo or Streamlit demo.',
    'links-card2-btn': 'Coming soon',
    'links-card3-title': 'Live demos',
    'links-card3-copy': 'Streamlit dashboards or API endpoints.',
    'links-card3-btn': 'Coming soon',
    'footer-copy': 'AI risk scoring, fraud detection, and financial literacy tools built for Uzbekistan.',
    'footer-cta-projects': 'Review projects',
    'footer-cta-top': 'Back to top',
  },
  ru: {
    'nav-problem': 'Проблема → Решение',
    'nav-team': 'Команда',
    'nav-why': 'Почему мы',
    'nav-roadmap': 'Дорожная карта',
    'nav-implementation': 'Реализация',
    'nav-projects': 'Проекты',
    'nav-links': 'Ссылки',
    'hero-eyebrow': 'AI500 Hackathon • Прототип готов',
    'hero-title': 'ИИ для скоринга рисков, антифрода и инвест-обучения в Узбекистане',
    'hero-lede':
      'Мы уже собрали три решения: платформу скоринга и антифрода, быстрый веб-сервис кредитного скоринга и безопасный инвестиционный симулятор для роста финансовой грамотности.',
    'cta-roadmap': 'Посмотреть роадмап',
    'cta-projects': 'Смотреть проекты',
    'hero-meta-stage': 'Текущий этап: Прототип',
    'hero-meta-builders': 'Собрано Bekhzod Shavkatov x Codex AI Agent',
    'hero-card-title': 'Что уже работает',
    'hero-card-li1': 'Модель кредитного риска и антифрод с объяснимостью',
    'hero-card-li2': 'Единый риск-профиль клиента: API, UI и дашборды',
    'hero-card-li3': 'Веб-приложение скоринга с FastAPI и интерфейсом для операторов',
    'hero-card-li4': 'Инвест-симулятор для безопасной торговли на реальных/симулированных данных',
    'hero-status': 'Прототип в работе и быстро интегрируется с банками',
    'problem-eyebrow': 'Проблема → Решение',
    'problem-title': 'Три острых боли в финансах Узбекистана',
    'problem-lede': 'Мы превращаем банковские боли в готовые AI-продукты.',
    'problem-a-tag': 'A. Банки — Кредитный риск',
    'problem-a-title': 'Низкая точность скоринга бьет по банкам и клиентам',
    'problem-a-li1': 'Низкая точность текущих систем скоринга',
    'problem-a-li2': 'Высокая дефолтность и финансовые потери',
    'problem-a-li3': 'Много ручного труда и человеческих ошибок',
    'problem-a-li4': 'Медленная обработка кредитных заявок',
    'problem-a-li5': 'Малый доступ к доступному кредитованию для населения',
    'paired-label': 'решение:',
    'problem-a-solution': 'Платформа AI Risk Scoring & Fraud Detection',
    'problem-b-tag': 'B. Финансовое мошенничество',
    'problem-b-title': 'Фрод скрывается в растущих транзакционных потоках',
    'problem-b-li1': 'Растущие объемы транзакций',
    'problem-b-li2': 'Сложно выявлять аномальные или подозрительные операции',
    'problem-b-li3': 'Банки теряют значимые суммы из-за фрода',
    'problem-b-li4': 'Ручной мониторинг неэффективен',
    'paired-label-2': 'решение:',
    'problem-b-solution': 'AI антифрод с объяснимыми алертами',
    'problem-c-tag': 'C. Нет инструментов для инвестиций',
    'problem-c-title': 'Гражданам негде безопасно учиться инвестировать',
    'problem-c-li1': 'Нет доступного фондового рынка для граждан',
    'problem-c-li2': 'Низкая финансовая грамотность',
    'problem-c-li3': 'Молодежи негде безопасно учиться инвестированию',
    'problem-c-li4': 'Многие становятся жертвами мошенников и псевдо-инвестиций',
    'problem-c-li5': 'Нет песочницы для практики инвестиционных навыков',
    'paired-label-3': 'решение:',
    'problem-c-solution': 'Инвестиционный тренировочный симулятор',
    'implementation-eyebrow': 'Решение',
    'implementation-title': 'Как мы будем реализовывать',
    'implementation-lede': 'Быстрый продакшн-фокус от данных до деплоя.',
    'impl-card1-title': 'Данные и фичи',
    'impl-card1-copy':
      'Объединяем банковские данные, чистим датасеты, создаем риск-сигналы и поведенческие фичи под антифрод.',
    'impl-card1-li1': 'Улучшение качества данных и контроль происхождения',
    'impl-card1-li2': 'Feature store для кредитных и фрод-сигналов',
    'impl-card1-li3': 'Потоковая загрузка для онлайн-проверок фрода',
    'impl-card2-title': 'Модели и объяснимость',
    'impl-card2-copy': 'CatBoost/XGBoost/Scikit-Learn + AutoML и XAI для понятных решений.',
    'impl-card2-li1': 'PD-модели с откалиброванными порогами',
    'impl-card2-li2': 'Антифрод: гибрид аномалий и правил',
    'impl-card2-li3': 'SHAP/LIME встроены в дашборды',
    'impl-card3-title': 'Продукты и оперирование',
    'impl-card3-copy': 'FastAPI, дашборды Streamlit/React и CI/CD для быстрого вывода.',
    'impl-card3-li1': 'Единый риск-профиль клиента с алертами',
    'impl-card3-li2': 'Скоринговое веб-приложение для операторов',
    'impl-card3-li3': 'Облако на Docker + GitHub Actions',
    'team-eyebrow': 'Команда',
    'team-title': 'Коллаборация',
    'team-lede': 'Bekhzod Shavkatov x Codex AI Agent: ML, бекенд и ускоренная доставка.',
    'team-card-title': 'Bekhzod Shavkatov x Codex AI Agent',
    'team-card-role': 'ML Engineer / Full-Stack Developer + AI-партнер по коду',
    'team-card-skills-label': 'Навыки:',
    'team-card-skills':
      'Python, FastAPI, ML, LLMs, Scikit-Learn, Docker, Streamlit, автогенерация кода, быстрый прототипинг',
    'team-card-roles-label': 'Роли:',
    'team-card-roles': 'ML-модели, бекенд, API, инфраструктура, UI и скорость с помощью AI',
    'why-eyebrow': 'Почему мы справимся',
    'why-title': 'Мы строим быстро и для Узбекистана',
    'why-li1': 'Уже сделали три решения (скоринг, антифрод, инвест-симулятор)',
    'why-li2': 'Опыт в ML, бекенде, API, микросервисах',
    'why-li3': 'Фокус на реальных проблемах Узбекистана',
    'why-li4': 'Строим MVP очень быстро',
    'why-li5': 'Уже развернули рабочие прототипы',
    'why-li6': 'Глубокое понимание финансов, банков и риск-моделирования',
    'roadmap-eyebrow': 'Дорожная карта',
    'roadmap-title': 'Идея → Прототип → MVP → Запуск',
    'roadmap-stage': 'Текущий этап: Прототип',
    'roadmap-idea-title': 'Идея',
    'roadmap-idea-copy': 'Проверено с банками и фрод-аналитиками.',
    'roadmap-prototype-title': 'Прототип',
    'roadmap-prototype-copy': 'Рабочие модели, дашборды и симулятор готовы.',
    'roadmap-mvp-title': 'MVP',
    'roadmap-mvp-copy': 'Усиление API, мониторинг и пилоты с банками.',
    'roadmap-launched-title': 'Запуск',
    'roadmap-launched-copy': 'Облако, SLA и масштабирование по стране.',
    'roadmap-next-title': 'Следующие шаги',
    'roadmap-next1': 'Улучшить качество датасетов',
    'roadmap-next2': 'Оптимизировать ML-модели',
    'roadmap-next3': 'Добавить Explainable AI',
    'roadmap-next4': 'Собрать полный дашборд аналитики',
    'roadmap-next5': 'Интегрировать внешние API',
    'roadmap-next6': 'Деплой в облако (AWS / Vercel / Render)',
    'projects-eyebrow': 'Портфолио',
    'projects-title': 'Три проекта в работе',
    'projects-lede': 'Реальный функционал, готовый к расширению для AI500.',
    'proj1-tag': 'Проект 1',
    'proj1-title': 'Платформа AI Risk Scoring & Fraud Detection',
    'proj1-li1': 'ML-модели прогнозируют кредитный риск',
    'proj1-li2': 'Антифрод выявляет подозрительные транзакции',
    'proj1-li3': 'Единый риск-профиль по клиенту',
    'proj1-li4': 'API, UI и дашборды',
    'proj1-li5': 'Explainable AI (SHAP/LIME)',
    'proj1-li6': 'Быстрая интеграция с банками',
    'proj2-tag': 'Проект 2',
    'proj2-title': 'Веб-приложение кредитного скоринга',
    'proj2-li1': 'Облегченная версия платформы скоринга',
    'proj2-li2': 'Быстрая оценка кредитоспособности',
    'proj2-li3': 'Прогноз вероятности дефолта',
    'proj2-li4': 'Удобный интерфейс для операторов',
    'proj2-li5': 'Бекенд на FastAPI',
    'proj3-tag': 'Проект 3',
    'proj3-title': 'Инвестиционный тренировочный симулятор',
    'proj3-li1': 'Виртуальный рынок с симулированными сделками',
    'proj3-li2': 'Пользователи получают виртуальные деньги и торгуют',
    'proj3-li3': 'Обучает инвестированию без риска',
    'proj3-li4': 'Повышает финансовую грамотность',
    'proj3-li5': 'Защищает от мошенников и псевдо-инвестиций',
    'proj3-li6': 'Использует реальные или симулированные данные рынка',
    'tech-eyebrow': 'Технологии',
    'tech-title': 'Стек, на котором работают прототипы',
    'links-eyebrow': 'Ссылки на проекты',
    'links-title': 'Проекты (скоро)',
    'links-lede': 'Замените плейсхолдеры на GitHub или живые демо.',
    'links-card1-title': 'AI Risk Platform + Credit Scoring App',
    'links-card1-copy': 'Общий репозиторий или API эндпоинт.',
    'links-card1-btn': 'Ссылка на прототип',
    'links-card2-title': 'Инвестиционный симулятор',
    'links-card2-copy': 'GitHub или демо на Streamlit.',
    'links-card2-btn': 'Скоро',
    'links-card3-title': 'Живые демо',
    'links-card3-copy': 'Streamlit-дашборды или API.',
    'links-card3-btn': 'Скоро',
    'footer-copy': 'ИИ-скоринг рисков, антифрод и инструменты финграмотности для Узбекистана.',
    'footer-cta-projects': 'Смотреть проекты',
    'footer-cta-top': 'Наверх',
  },
};

const langToggle = document.getElementById('lang-toggle');
let currentLang = 'en';

const applyTranslations = (lang) => {
  const setTo = lang in translations ? lang : 'en';
  document.documentElement.lang = setTo;
  document.querySelectorAll('[data-i18n]').forEach((el) => {
    const key = el.getAttribute('data-i18n');
    const localized = translations[setTo][key] ?? translations.en[key];
    if (localized !== undefined) el.textContent = localized;
  });
  if (langToggle) {
    langToggle.textContent = setTo === 'en' ? 'RU' : 'EN';
  }
};

if (langToggle) {
  langToggle.addEventListener('click', () => {
    currentLang = currentLang === 'en' ? 'ru' : 'en';
    applyTranslations(currentLang);
  });
  applyTranslations(currentLang);
}
